import{J as h,bv as b,bw as g,j as e,aB as v,I as m,B as r,r as y,bx as w,ac as f}from"./index-D_cF9bit.js";import{A as C}from"./Avatar-BINSF1Zp.js";import{p as j}from"./phoneNumber.adapter-C09bg4A8.js";import{D as S}from"./divider.esm-amHVYy3S.js";import{T as u}from"./tag.esm-Dc23gQXs.js";import{u as D,t as E,C as d}from"./zod-CitZsyN8.js";import"./badge.esm-CnWvYCoG.js";const k=({setShowModal:i,showModal:c})=>{const{authUser:l}=h(a=>a.auth),{control:t,handleSubmit:x,formState:{isDirty:n}}=D({resolver:E(b.getSchema),defaultValues:b.getDefault(l)}),[o,{isLoading:p}]=g(),N=async a=>{o(a).unwrap().then(()=>i(!1))};return e.jsx(v,{header:"Editar Perfil",visible:c,style:{width:"50vw"},onHide:()=>i(!1),children:e.jsxs("form",{onSubmit:x(N),className:"flex flex-col gap-y-4",noValidate:!0,children:[e.jsx("div",{children:e.jsx(d,{control:t,name:"fullname",defaultValue:"",render:({field:a,fieldState:{error:s}})=>e.jsx(m,{label:{htmlFor:"Nombre completo ",text:"Nombre completo"},type:"text",small:{text:s==null?void 0:s.message},placeholder:"Nombre completo",className:"w-full",invalid:!!s,...a})})}),e.jsx("div",{children:e.jsx(d,{control:t,name:"email",defaultValue:"",render:({field:a,fieldState:{error:s}})=>e.jsx(m,{label:{htmlFor:"Correo electronico",text:"Correo electronico"},type:"email",small:{text:s==null?void 0:s.message,className:"text-red-500"},placeholder:"Correo electronico",className:"w-full",id:"email",invalid:!!s,...a})})}),e.jsx("div",{children:e.jsx(d,{control:t,name:"phoneNumber",defaultValue:"",render:({field:a,fieldState:{error:s}})=>e.jsx(m,{label:{htmlFor:"Número de teléfono",text:"Telefono ( +51999999999 )"},type:"text",small:{text:s==null?void 0:s.message},placeholder:"Número de teléfono",className:"w-full",invalid:!!s,...a})})}),e.jsx("div",{children:e.jsx(d,{control:t,name:"description",defaultValue:"",render:({field:a,fieldState:{error:s}})=>e.jsx(m,{label:{htmlFor:"Descripción",text:"Descripción"},type:"text",small:{text:s==null?void 0:s.message},placeholder:"Descripción",className:"w-full",invalid:!!s,...a})})}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(r,{label:"Cancelar",outlined:!0,type:"button",onClick:()=>i(!1)}),e.jsx(r,{label:"Guardar",type:"submit",className:"bg-primary",disabled:!n,loading:p})]})]})})},B=()=>{var n,o;const[i,c]=y.useState(!1),{authUser:l}=h(p=>p.auth);console.log((n=j.parse("+51923456789"))==null?void 0:n.formatInternational(),l==null?void 0:l.phoneNumber);const{label:t,severity:x}=w[l.role.name];return e.jsxs(e.Fragment,{children:[e.jsx(k,{showModal:i,setShowModal:c}),e.jsx("div",{className:"flex justify-center h-full items-center",children:e.jsx(f,{className:"w-full shadow-lg p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"w-full md:w-1/3 flex flex-col justify-center items-center  text-center",children:[e.jsx(C,{badge:{className:"w-6 h-6 mt-2 me-4",severity:l!=null&&l.online?"success":"danger"},shape:"circle",label:l==null?void 0:l.fullname,pt:{label:{className:"text-6xl font-bold"}},className:"mb-3 w-40 h-40 p-overlay-badge"}),e.jsx("h4",{className:"text-xl font-semibold",children:l==null?void 0:l.fullname}),e.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[e.jsx(r,{label:"Editar Perfil",icon:"pi pi-pencil",outlined:!0,onClick:()=>c(!0)}),e.jsx(r,{label:"Cambiar Contraseña",icon:"pi pi-lock"})]})]}),e.jsx(S,{layout:"vertical"}),e.jsxs("div",{className:"w-full md:w-2/3",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Información personal"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("p",{children:[e.jsx("label",{className:"block text-slate-400",children:"Nombres completos:"})," ",l==null?void 0:l.fullname]}),e.jsxs("p",{children:[e.jsx("label",{className:"block text-slate-400",children:"Email:"})," ",l==null?void 0:l.email]}),e.jsxs("p",{children:[e.jsx("label",{className:"block text-slate-400",children:"Phone:"}),(o=j.parse((l==null?void 0:l.phoneNumber)||""))==null?void 0:o.formatInternational()]})]}),e.jsx("h3",{className:"text-lg font-semibold border-b pb-2 mt-6",children:"Estado de la cuenta"}),e.jsxs("div",{className:"grid grid-cols-2 w-full xl:w-1/2 mx-auto gap-4 mt-4",children:[e.jsxs(f,{className:"bg-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-x-1",children:[e.jsx("i",{className:"pi pi-user me-2 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Cuenta"})]}),e.jsx(u,{value:"Activo",severity:"success"})]}),e.jsxs(f,{className:"bg-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-x-1",children:[e.jsx("i",{className:"pi pi-shield me-2 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Role"})]}),e.jsx(u,{value:t,severity:x})]})]}),e.jsx("h3",{className:"text-lg font-semibold border-b pb-2 mt-6",children:"Sobre mí"}),e.jsx("p",{className:"mt-4 text-gray-600",children:(l==null?void 0:l.description)||"Sin descripción"})]})]})})})]})};export{B as ProfilePage,B as default};
